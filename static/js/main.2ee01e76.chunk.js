/*! For license information please see main.2ee01e76.chunk.js.LICENSE.txt */
(this["webpackJsonpgraph-auxiliaries"]=this["webpackJsonpgraph-auxiliaries"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},128:function(e,t,n){},130:function(e,t,n){},146:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),c=n.n(i),o=(n(123),n(30)),s=n(8),l=n(219),u=(n(124),n(23)),m=n(103),d=n.n(m),f=n(83),h=(n(125),n(126),n(127),n(128),n(1));function p(e){var t=e.code,n=e.setCode,a=e.language;return Object(h.jsx)(d.a,{style:{fontFamily:"Consolas, Menlo, monospace"},value:t,onValueChange:function(e){return n(e)},highlight:function(e){return Object(f.highlight)(e,f.languages[a])},padding:10,className:"simple-code-editor"})}function v(e){var t=e.title;return Object(h.jsx)("div",{style:{height:50,width:"auto",lineHeight:"50px",fontWeight:"bold",borderLeft:"5px solid #eee",fontSize:"2em",fontFamily:"Times",color:"#333333",textIndent:20},children:t})}var y=n(90);function b(e){var t=e.codeStr,n=e.setCodeStr,r=e.style,i=e.submit,c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],m=o[1];return Object(h.jsxs)("div",{style:Object(u.a)(Object(u.a)({},r),{},{minWidth:300,margin:5,display:"flex",flexDirection:"column"}),children:[Object(h.jsx)(v,{title:"Code Editor"}),Object(h.jsxs)("div",{style:{height:"100%",marginTop:5,background:"#f6f6f6",position:"relative"},children:[Object(h.jsx)(p,{code:t,setCode:function(e){m(!0),n(e)},language:"js"}),Object(h.jsx)("div",{style:{position:"absolute",right:0,top:0},children:l?Object(h.jsx)(y.b,{fontSize:28,style:{zIndex:1e3,color:"#3b5fc0",cursor:"pointer",margin:5},onClick:function(e){m(!1),i()}}):Object(h.jsx)(y.a,{style:{color:"#a9b0bc"},fontSize:28})})]})]})}function g(e){var t=e.dataStr,n=e.setDataStr,a=e.style;return Object(h.jsxs)("div",{style:Object(u.a)(Object(u.a)({},a),{},{minWidth:300,margin:5,display:"flex",flexDirection:"column"}),children:[Object(h.jsx)(v,{title:"Data Editor"}),Object(h.jsx)("div",{style:{height:"100%",marginTop:5,background:"#f6f6f6"},children:Object(h.jsx)(p,{code:t,setCode:n,language:"js"})})]})}var j=n(9);var x=n(5);function O(e){if(!Array.isArray(e)||0===e.length)return"";var t=e.slice().sort((function(e,t){return t.coverage-e.coverage}))[0];return"common"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter'>".concat(t.attribute,"</span> are with a same value").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):"overlap"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> have common values").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):"similar"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> are close, with a difference less than: <span class='description-parameter'>").concat(t.value,"</span>."):"same-bin"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> are within the same bin").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):void 0}n(130);var E=new Set(["string","number","undefined","boolean"]),w=new Set(["fill","fill-opacity","stroke","stroke-dasharray","stroke-opacity","stroke-width"]),k=(new Map([["circle",new Set(["cx","cy"])],["ellipse",new Set(["cx","cy"])],["line",new Set(["x1","x2","y1","y2"])],["polygon",new Set(["points"])],["polyline",new Set(["points"])],["rect",new Set(["x","y"])],["path",new Set([])],["text",new Set(["x","y"])]]),{fill:"#000000","fill-opacity":1,stroke:"#000000","stroke-dasharray":"none","stroke-opacity":1,rx:"auto",ry:"auto"}),N=new Map([["circle",["r"]],["ellipse",["rx","ry"]],["line",[]],["polygon",[]],["polyline",[]],["rect",["width","height","rx","ry"]],["path",[]],["text",[]]]);N.forEach((function(e,t){e=e.concat(Object(o.a)(w)),N.set(t,new Set(e))}));var S=new Set(["rx","ry","cx","cy","points"]),M={constituent:function(e,t){return function(e,n){return"Each ".concat(e," consists of ").concat(t>1?"":"only"," ").concat(n," ").concat(t>1?"different":""," element").concat(t>1?"s":"",".")}},onePrimitive:function(e){return function(t,n){return e>1?"The ".concat(t," element is a ").concat(n,"."):"It is a ".concat(n,".")}},multiPrimitive:function(e){return function(t,n){return e>1?"For the ".concat(t," element, its <span class='description-parameter channel-parameter'>tagName</span> varies among multiple shapes: ").concat(V(n),"."):"Its <span class='description-parameter channel-parameter'>tagName</span> varies among multiple shapes: ".concat(V(n),".")}},multiPrimitiveTagName:function(e){return function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i];return r.sort(),"max"in e&&"min"in e?"When the value of ".concat(n," is from ").concat(r[0]," to ").concat(r[1],", its <span class='description-parameter channel-parameter'>tagName</span> is changed into ").concat(t,"."):"When the value of ".concat(n," is ").concat(D(r,"or"),", its <span class='description-parameter channel-parameter'>tagName</span> is changed into ").concat(t,".")}},channels2attribute:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){return"".concat(e?"I":"i","ts ").concat(D(t)," encode").concat(t.length>1?"":"s"," the attribute ").concat(n,".")}},samePrimitive:function(e){return function(t,n,a){return e.length>1?"For the ".concat(t," to ").concat(n," elements, its encoding scheme is same to the ").concat(a," element."):"For the ".concat(t," element, its encoding scheme is same to the ").concat(a," element.")}},correlationC2C:function(e,t,n,a){return"When the value of ".concat(t," is ").concat(D(a.sort(),"or"),", its ").concat(e," is changed into ").concat(n,".")},correlationN2C:function(e,t,n,a,r){return"When the value of ".concat(t," is from ").concat(a," to ").concat(r,", its ").concat(e," is changed into ").concat(n,".")},correlationN2N:function(e){return function(t,n){return"The greater ".concat(n,", the ").concat(e?"greater\ud83d\udcc8":"smaller\ud83d\udcc9"," its ").concat(t,".")}},correlationUndefined:function(e,t){return"The correlation between ".concat(e," and ").concat(t," can not be determined yet.")}},T={entity:"entity-parameter",element:"element-parameter",channel:"channel-parameter",attribute:"attribute-parameter",value:"value-parameter"},C="NUMERICAL",A="CATEGORICAL",I=function(e){for(var t=e.attributes,n=Object.assign({},k),a=0;a<t.length;a++){var r=t[a].name,i=t[a].value;n[r]=i}var c={},o=N.get(e.tagName);if(o){if("circle"==e.tagName||"ellipse"==e.tagName){var s=[e.cx.baseVal.value,e.cy.baseVal.value],l=s[0],m=s[1];c=Object(u.a)(Object(u.a)({},c),{},{cx:l,cy:m})}else if("line"==e.tagName){var d=[e.x1.baseVal.value,e.y1.baseVal.value],f=d[0],h=d[1],p=[e.x2.baseVal.value,e.y2.baseVal.value],v=p[0],y=p[1];c=Object(u.a)(Object(u.a)({},c),{},{x1:f,y1:h,x2:v,y2:y})}else if("rect"==e.tagName){var b=[e.x.baseVal.value,e.y.baseVal.value],g=b[0],j=b[1];c=Object(u.a)(Object(u.a)({},c),{},{x:g,y:j})}else if("polygon"===e.tagName||"polyline"===e.tagName){var x=Array.from(e.points).map((function(e){return[e.x,e.y]}));x.forEach((function(e,t){c["points[".concat(t,"]['x']")]=x[0],c["points[".concat(t,"]['y']")]=x[1]}))}else if("path"===e.tagName);else if("text"===e.tagName){var O=[e.x.baseVal.value,e.y.baseVal.value],E=O[0],w=O[1],S=e.textContent;c=Object(u.a)(Object(u.a)({},c),{},{textContent:S,x:E,y:w})}return o.forEach((function(e){c[e]=n[e]})),c}},L={isEqual:function(e,t){var n=this;if(typeof e!==typeof t)return!1;if("string"==typeof e||"number"==typeof e||"undefined"==typeof e||"boolean"==typeof e)return e==t;if("object"==typeof e){if(Array.isArray(e)&&Array.isArray(t))return e.length==t.length&&e.every((function(a,r){return n.isEqual(e[r],t[r])}));if(Array.isArray(e)||Array.isArray(t))return!1;var a=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(a.length!=r.length)return!1;for(var i=0;i<a.length;i++){var c=a[i];if(!this.isEqual(e[c],t[c]))return!1}return!0}console.error("Not supported type: ".concat(typeof e))},deepcopy:function(e){return JSON.parse(JSON.stringify(e))},dfs:function(e,t){for(var n=[],a=e;a;)if(t(a),a.children&&a.children.length){var r=Array.from(a.children),i=r.pop();r.forEach((function(e){return n.push(e)})),a=i}else a=n.pop()}},F=function(e){var t=new Map,n=new Map;return e.nodes.forEach((function(e){var n=function(n){"object"==typeof e[n]?Object.entries(e[n]).forEach((function(a){var r=Object(s.a)(a,2),i=r[0],c=(r[1],"".concat(n).concat("@").concat(i));t.has(c)?t.get(c).push(e[n][i]):t.set(c,[e[n][i]])})):E.has(typeof e[n])>=0&&(t.has(n)?t.get(n).push(e[n]):t.set(n,[e[n]]))};for(var a in e)n(a)})),e.links.forEach((function(e){for(var t in e)n.has(t)?n.get(t).push(e[t]):n.set(t,[e[t]])})),t.delete("id"),n.delete("source"),n.delete("target"),t.forEach((function(e,n){t.set(n,a(e))})),n.forEach((function(e,t){n.set(t,a(e))})),{nodes:t,links:n};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],a=!0,r=C;return e.forEach((function(e){n.push(e),"number"!==typeof e&&(a=!1)})),(!a||n.length<=t)&&(r=A),{type:r,range:n}}};function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n="";return 1==e.length?e[0]:2==e.length?"from ".concat(e[0]," to ").concat(e[1]):(e.forEach((function(a,r){n+=a,r<e.length-1&&(r==e.length-2?n+=", ".concat(t," "):n+=", ")})),n)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n="";return 1==e.length?e[0]:2==e.length?e.join(" ".concat(t," ")):(e.forEach((function(a,r){n+=a,r<e.length-1&&(r==e.length-2?n+=", ".concat(t," "):n+=", ")})),n)}function B(e){var t,n=["zeroth","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth"],a=["twent","thirt","fort","fift","sixt","sevent","eight","ninet"];return(t=e)<20?n[t]:t%10===0?a[Math.floor(t/10)-2]+"ieth":a[Math.floor(t/10)-2]+"y-"+n[t%10]}var q={node:"nodes",link:"links"};function z(e){return Number(e)===e&&e%1!==0}function _(e){var t=e.dataFolder,n=e.style,r=e.svg,i=e.dataStr,c=e.elementInfo,o=e.layoutDescriptions,l=e.label2Encodings,u=e.linkConditions,m=e.entityElementsGroups,d=e.visibleElements,f=e.nodeMeanings,p=e.switchedOn,y=Object(a.useRef)(),b=Object(a.useState)(null),g=Object(s.a)(b,2),x=g[0],O=g[1],E=Object(a.useState)(null),w=Object(s.a)(E,2),k=w[0],N=w[1],S=Object(a.useState)(null),M=Object(s.a)(S,2),T=M[0],C=M[1],A=Object(a.useState)(!1),I=Object(s.a)(A,2),L=I[0],F=I[1],V=Object(a.useState)(0),D=Object(s.a)(V,2),B=D[0],q=D[1],z=Object(a.useState)(0),_=Object(s.a)(z,2),G=_[0],P=_[1],H=Object(a.useState)(null),J=Object(s.a)(H,2),X=J[0],R=J[1];return Object(a.useEffect)((function(){if(r&&i){var e=JSON.parse(i);R(e),y.current.innerHTML="",r&&(y.current.appendChild(r),p&&j.select(r).on("mouseover",(function(e){var t=e.target;if(t.hasAttribute("idx")){var n=parseInt(t.getAttribute("idx")),a=c[n];a&&(O(a),N(t),C(function(e,t,n){var a={};return Object.keys(e).forEach((function(r){if(!t||!(t in e)||t==r){var i=e[r];Object.keys(i).forEach((function(e){if("style"in i[e]){var t=Object.keys(i[e].style);a[e]=t.map((function(e){return e.indexOf(".")&&(e=e.split(".")[0]),"cx"!==e||n.hasAttribute(e)?"cy"!==e||n.hasAttribute(e)?e:"y":"x"})).filter((function(e){return"x"===e||"y"===e||"textContent"===e||n.hasAttribute(e)}))}else"tagName"in i[e]&&(a[e]=["tagName"])}))}})),a}(l[a.entityType],a.label,t)),F(!0)),d.forEach((function(e){j.select(e).attr("opacity",.1)})),j.select(t).attr("opacity",1)}})).on("mousemove",(function(e){if(e.target.hasAttribute("idx")){var t=j.pointer(e,j.select(document.body)),n=Object(s.a)(t,2),a=n[0],r=n[1];P(a),q(r)}})).on("mouseout",(function(e){e.target.hasAttribute("idx")&&F(!1),d.forEach((function(e){j.select(e).attr("opacity",1)}))})))}}),[r,c,i,l,p,d]),Object(h.jsxs)("div",{style:n,children:[Object(h.jsx)(v,{title:"Node-Link Diagram"}),Object(h.jsx)("div",{style:{marginTop:10},ref:y,children:Object(h.jsx)(W,{dataFolder:t,data:X,info:x,layoutDescriptions:o,element:k,encodings:T,visible:L,top:B,left:G,linkConditions:u,entityElementsGroups:m,nodeMeanings:f})})]})}function W(e){var t=e.dataFolder,n=e.data,r=e.info,i=e.layoutDescriptions,c=e.element,o=e.visible,s=e.top,l=e.left,u=e.encodings,m=e.linkConditions,d=e.entityElementsGroups,f=e.nodeMeanings;if(Object(a.useEffect)((function(){var e=document.getElementById("vis-tooltip");e&&(e.getBoundingClientRect().top<40&&(e.style.transform="translate(-50%, 50px)"))})),!r||!o)return null;var p=n[q[r.entityType]][r.entityIndex],v=new Set(["id","source","target"]),y=d[r.entityType].maxBBox,b=Math.min(50,Math.max(y.width,y.height)),g=b/Math.max(y.width,y.height),E=d[r.entityType][r.entityIndex].bbox,w=d[r.entityType][r.entityIndex].group.cloneNode(!0);j.select(w).attr("transform","scale(".concat(g,")translate(-").concat(E.x+E.width/2,", -").concat(E.y+E.height/2,")"));var k=parseInt(c.getAttribute("idx"));isNaN(k)||L.dfs(w,(function(e){var t=parseInt(e.getAttribute("idx"));isNaN(t)||t===k||e.setAttribute("opacity","20%")}));var N=O(m),S=function(e){var t,n={isTopo:!1,encodings:[],elements:new Set},a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(0===r.parameters.length)n.isTopo=!0,r.elements.forEach((function(e){n.elements.add(e)}));else{var i={key:r.parameters[0].value,value:r.parameters[1].value};n.encodings.push(i),r.children[0].elements.forEach((function(e){n.elements.add(e)}))}}}catch(c){a.e(c)}finally{a.f()}return n}(i);return Object(h.jsxs)("div",{id:"vis-tooltip",className:"svg-tooltip",style:{padding:10,position:"absolute",transform:"translate(-50%, -100%)",width:"".concat(400,"px"),left:l,top:s,visibility:o,fontFamily:"Consolas, Menlo, monospace"},children:[Object(h.jsx)("div",{style:{fontSize:"24px",fontWeight:"bolder",fontFamily:"Times"},children:"Meanings"}),"link"===r.entityType?Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:'<span class="description-parameter entity-parameter">Link</span>: '.concat(N)}}):Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:'<span class="description-parameter entity-parameter">Node</span>: '.concat(f,".")}}),Object(h.jsx)("div",{style:{fontSize:"24px",fontWeight:"bolder",fontFamily:"Times"},children:"Attributes"}),Object.keys(p).map((function(e){if(v.has(e))return null;var t=p[e];return Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"tooltip-attr",children:e}),":",Array.isArray(t)?Object(h.jsxs)("span",{children:["[",t.join(","),"]"]}):"object"===typeof t?Object(h.jsx)("div",{style:{marginLeft:10},children:Object.keys(t).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"tooltip-attr",children:e}),": ",t[e]]},e)}))}):" ".concat(z(t)?t.toFixed(2):t)]},e)})),Object(h.jsx)("div",{style:{fontSize:"24px",fontWeight:"bolder",fontFamily:"Times"},children:"Encodings"}),Object(h.jsx)("div",{children:u&&Object.keys(u).map((function(e,t){return Object(h.jsxs)("div",{children:[w&&Object(h.jsx)("svg",{width:b,height:b,style:{verticalAlign:"middle"},viewBox:"-".concat(b/2," -").concat(b/2," ").concat(b," ").concat(b),dangerouslySetInnerHTML:{__html:(new XMLSerializer).serializeToString(w)}}),u[e].map((function(e){return Object(h.jsx)("span",{className:"tooltip-attr",children:e})})),Object(h.jsx)("span",{children:" \u2192 "}),Object(h.jsx)("span",{className:"tooltip-attr",children:-1!==e.indexOf("@")?"".concat(e.split("@")[0],"[").concat(e.split("@")[1],"]"):e}),Object(h.jsx)("span",{children:": "}),(n=-1!==e.indexOf("@")?p[e.split("@")[0]][e.split("@")[1]]:p[e],z(n)?n.toFixed(2):n)]},t);var n}))}),S.elements.has(c)&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{fontSize:"24px",fontWeight:"bolder",fontFamily:"Times"},children:"Layout"}),Object(h.jsxs)("div",{children:[S.isTopo&&Object(h.jsx)("p",{children:"The layout is a topology-based layout. The farther the geodesic distance (the length of the shortest path) between two nodes, the farther the Euclidean distance between them."}),S.encodings.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{alt:"data/".concat(t,"/layout-indicator.svg"),width:35,height:35,src:"data/".concat(t,"/layout-indicator.svg")}),Object(h.jsx)("span",{className:"tooltip-attr",children:e.key}),Object(h.jsx)("span",{children:" \u2192 "}),e.value.map((function(e){return Object(h.jsx)("span",{className:"tooltip-attr",children:-1!==e.indexOf("@")?"".concat(e.split("@")[0],"[").concat(e.split("@")[1],"]"):e})}))]})}))]})]})]})}n(92);function G(e){var t=e.style,n=void 0===t?{}:t,a=e.state,r=void 0===a?"":a;return Object(h.jsxs)("div",{style:Object(u.a)({color:"",fontFamily:"Times"},n),children:[r,"\xa0\xa0",Object(h.jsxs)("div",{className:"loader-inner ball-pulse",style:{display:"inline-block"},children:[Object(h.jsx)("div",{style:{background:"black"}}),Object(h.jsx)("div",{style:{background:"black"}}),Object(h.jsx)("div",{style:{background:"black"}})]})]})}var P=n(218),H=n(104),J=n.n(H),X=[{name:"black",vec:[0,0,0]},{name:"silver",vec:[192,192,192]},{name:"grey",vec:[128,128,128]},{name:"white",vec:[255,255,255]},{name:"maroon",vec:[128,0,0]},{name:"red",vec:[255,0,0]},{name:"purple",vec:[128,0,128]},{name:"fuchsia",vec:[255,0,255]},{name:"green",vec:[0,128,0]},{name:"lime",vec:[0,255,0]},{name:"olive",vec:[128,128,0]},{name:"yellow",vec:[255,255,0]},{name:"navy",vec:[0,0,128]},{name:"blue",vec:[0,0,255]},{name:"teal",vec:[0,128,128]},{name:"aqua",vec:[0,255,255]},{name:"orange",vec:[255,165,0]},{name:"aliceblue",vec:[240,248,255]},{name:"antiquewhite",vec:[250,235,215]},{name:"aquamarine",vec:[127,255,212]},{name:"azure",vec:[240,255,255]},{name:"beige",vec:[245,245,220]},{name:"blanchedalmond",vec:[255,228,196]},{name:"blueviolet",vec:[138,43,226]},{name:"brown",vec:[165,42,42]},{name:"burlywood",vec:[222,184,135]},{name:"cadetblue",vec:[95,158,160]},{name:"chartreuse",vec:[127,255,0]},{name:"chocolate",vec:[210,105,30]},{name:"coral",vec:[255,127,80]},{name:"cornflowerblue",vec:[100,149,237]},{name:"cornsilk",vec:[255,248,220]},{name:"crimson",vec:[220,20,60]},{name:"darkblue",vec:[0,0,139]},{name:"darkcyan",vec:[0,139,139]},{name:"darkgoldenrod",vec:[184,134,11]},{name:"darkgrey",vec:[169,169,169]},{name:"darkgreen",vec:[0,100,0]},{name:"darkkhaki",vec:[189,183,107]},{name:"darkmagenta",vec:[139,0,139]},{name:"darkolivegreen",vec:[85,107,47]},{name:"darkorange",vec:[255,140,0]},{name:"darkorchid",vec:[153,50,204]},{name:"darkred",vec:[139,0,0]},{name:"darksalmon",vec:[233,150,122]},{name:"darkseagreen",vec:[143,188,143]},{name:"darkslateblue",vec:[72,61,139]},{name:"darkslategrey",vec:[47,79,79]},{name:"darkturquoise",vec:[0,206,209]},{name:"darkviolet",vec:[148,0,211]},{name:"deeppink",vec:[255,20,147]},{name:"deepskyblue",vec:[0,191,255]},{name:"dimgrey",vec:[105,105,105]},{name:"dodgerblue",vec:[30,144,255]},{name:"firebrick",vec:[178,34,34]},{name:"floralwhite",vec:[255,250,240]},{name:"forestgreen",vec:[34,139,34]},{name:"gainsboro",vec:[220,220,220]},{name:"ghostwhite",vec:[248,248,255]},{name:"gold",vec:[255,215,0]},{name:"goldenrod",vec:[218,165,32]},{name:"greenyellow",vec:[173,255,47]},{name:"honeydew",vec:[240,255,240]},{name:"hotpink",vec:[255,105,180]},{name:"indianred",vec:[205,92,92]},{name:"indigo",vec:[75,0,130]},{name:"ivory",vec:[255,255,240]},{name:"khaki",vec:[240,230,140]},{name:"lavender",vec:[230,230,250]},{name:"lavenderblush",vec:[255,240,245]},{name:"lawngreen",vec:[124,252,0]},{name:"lemonchiffon",vec:[255,250,205]},{name:"lightblue",vec:[173,216,230]},{name:"lightcoral",vec:[240,128,128]},{name:"lightcyan",vec:[224,255,255]},{name:"lightgoldenrodyellow",vec:[250,250,210]},{name:"lightgrey",vec:[211,211,211]},{name:"lightgreen",vec:[144,238,144]},{name:"lightpink",vec:[255,182,193]},{name:"lightsalmon",vec:[255,160,122]},{name:"lightseagreen",vec:[32,178,170]},{name:"lightskyblue",vec:[135,206,250]},{name:"lightslategrey",vec:[119,136,153]},{name:"lightsteelblue",vec:[176,196,222]},{name:"lightyellow",vec:[255,255,224]},{name:"limegreen",vec:[50,205,50]},{name:"linen",vec:[250,240,230]},{name:"mediumaquamarine",vec:[102,205,170]},{name:"mediumblue",vec:[0,0,205]},{name:"mediumorchid",vec:[186,85,211]},{name:"mediumpurple",vec:[147,112,219]},{name:"mediumseagreen",vec:[60,179,113]},{name:"mediumslateblue",vec:[123,104,238]},{name:"mediumspringgreen",vec:[0,250,154]},{name:"mediumturquoise",vec:[72,209,204]},{name:"mediumvioletred",vec:[199,21,133]},{name:"midnightblue",vec:[25,25,112]},{name:"mintcream",vec:[245,255,250]},{name:"mistyrose",vec:[255,228,225]},{name:"moccasin",vec:[255,228,181]},{name:"navajowhite",vec:[255,222,173]},{name:"oldlace",vec:[253,245,230]},{name:"olivedrab",vec:[107,142,35]},{name:"orangered",vec:[255,69,0]},{name:"orchid",vec:[218,112,214]},{name:"palegoldenrod",vec:[238,232,170]},{name:"palegreen",vec:[152,251,152]},{name:"paleturquoise",vec:[175,238,238]},{name:"palevioletred",vec:[219,112,147]},{name:"papayawhip",vec:[255,239,213]},{name:"peachpuff",vec:[255,218,185]},{name:"peru",vec:[205,133,63]},{name:"pink",vec:[255,192,203]},{name:"plum",vec:[221,160,221]},{name:"powderblue",vec:[176,224,230]},{name:"rosybrown",vec:[188,143,143]},{name:"royalblue",vec:[65,105,225]},{name:"saddlebrown",vec:[139,69,19]},{name:"salmon",vec:[250,128,114]},{name:"sandybrown",vec:[244,164,96]},{name:"seagreen",vec:[46,139,87]},{name:"seashell",vec:[255,245,238]},{name:"sienna",vec:[160,82,45]},{name:"skyblue",vec:[135,206,235]},{name:"slateblue",vec:[106,90,205]},{name:"slategrey",vec:[112,128,144]},{name:"snow",vec:[255,250,250]},{name:"springgreen",vec:[0,255,127]},{name:"steelblue",vec:[70,130,180]},{name:"tan",vec:[210,180,140]},{name:"thistle",vec:[216,191,216]},{name:"tomato",vec:[255,99,71]},{name:"turquoise",vec:[64,224,208]},{name:"violet",vec:[238,130,238]},{name:"wheat",vec:[245,222,179]},{name:"whitesmoke",vec:[245,245,245]},{name:"yellowgreen",vec:[154,205,50]},{name:"rebeccapurple",vec:[102,51,153]}];function R(e){var t=J()(e),n=Object(s.a)(t,4),a=n[0],r=n[1],i=n[2],c=(n[3],Number.MAX_VALUE),o="black";return X.forEach((function(e){var t=Object(s.a)(e.vec,3),n=t[0],l=t[1],u=t[2],m=Math.pow(a-n,2)+Math.pow(r-l,2)+Math.pow(i-u,2);m<c&&(c=m,o=e.name)})),o}function Y(e){var t=e.term,n=e.visibleElements;return Object(h.jsx)("p",{style:{margin:0,padding:2,fontFamily:"Times"},onMouseOver:function(e){e.target.style.backgroundColor="#e9e9e9",n.forEach((function(e){j.select(e).attr("opacity",.1)})),t.elements.forEach((function(e){j.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.target.style.backgroundColor="#fff",n.forEach((function(e){j.select(e).attr("opacity",1)}))},dangerouslySetInnerHTML:{__html:t.content}})}function U(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=[];return e.forEach((function(e,i){var c="".concat(a,"-").concat(i);e.switch&&n.push(c),r.push({title:Object(h.jsx)(Y,{visibleElements:t,term:e}),key:c,children:Array.isArray(e.children)&&e.children.length>0?U(e.children,t,n,c):null})})),r}function K(e){var t=e.graphDescriptions,n=e.visibleElements,a=e.loadingText,r=e.loading,i=[],c=[];return!r&&t&&t.length&&(i=U(t,n,c)),Object(h.jsx)("div",{style:{margin:20,marginLeft:30},children:!r&&t&&t.length?Object(h.jsx)(P.a,{style:{fontSize:18},selectable:!1,treeData:i,defaultExpandedKeys:c}):Object(h.jsx)(G,{style:{margin:20,marginLeft:28,padding:2,fontFamily:"Times"},state:a})})}var $=n(216);function Q(e){var t=e.style,n=e.linkConditions,a=e.graphDescriptions,r=e.layoutDescriptions,i=e.visibleElements,c=e.loading,o=e.nodeMeanings,s=e.switchedOn,l=O(n);return Object(h.jsxs)("div",{style:Object(u.a)(Object(u.a)({},t),{},{margin:5,display:"".concat(s?"flex":"none"),flexDirection:"column"}),children:[Object(h.jsx)(v,{title:"Descriptions"}),Object(h.jsxs)("div",{style:{fontSize:18,paddingLeft:10},children:[Object(h.jsx)($.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Node & Link Meanings"}),c?Object(h.jsx)(G,{style:{margin:20,marginLeft:58,padding:2,fontFamily:"Times"},state:"Computing Linking Condition"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{margin:20,marginLeft:30,padding:2,fontFamily:"Times"},dangerouslySetInnerHTML:{__html:'<span class="description-parameter entity-parameter">Node</span>: Nodes represent '.concat(o,".")}}),Object(h.jsx)("div",{style:{margin:20,marginLeft:30,padding:2,fontFamily:"Times"},dangerouslySetInnerHTML:{__html:'<span class="description-parameter entity-parameter">Link</span>: '.concat(l)}})]}),Object(h.jsx)($.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Visual Encoding"}),Object(h.jsx)(K,{loading:c,graphDescriptions:a,visibleElements:i,loadingText:"Computing Visual Encoding"}),Object(h.jsx)($.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Layout Types"}),Object(h.jsx)(K,{loading:c,graphDescriptions:r,visibleElements:i,loadingText:"Computing Layout Meaning"})]})]})}var Z=n(21),ee=n.n(Z),te=n(111),ne={miserables:{data:"miserables/miserables_5.json",code:"miserables/code.js"},nodeEncoding:{data:"nodeEncoding/data.json",code:"nodeEncoding/code.js"},"imdb-movies":{data:"imdb-movies-raw/data.json",code:"imdb-movies-raw/code.js",preload:"imdb-movies-raw/preload.json"},"imdb-actors":{data:"imdb-actors-raw/data.json",code:"imdb-actors-raw/code.js",preload:"imdb-actors-raw/preload.json"},"imdb-movies-link":{data:"imdb-movies-link/data.json",code:"imdb-movies-link/code.js",preload:"imdb-movies-link/preload.json"},"imdb-movies-shapes":{data:"imdb-movies-shapes/data.json",code:"imdb-movies-shapes/code.js",preload:"imdb-movies-shapes/preload.json"}};function ae(){return(ae=Object(te.a)(ee.a.mark((function e(t){var n,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("data/".concat(ne[t].data)).then((function(e){return e.text()}));case 3:return n=e.sent,e.next=6,fetch("data/".concat(ne[t].code)).then((function(e){return e.text()}));case 6:return a=e.sent,e.next=9,fetch("data/".concat(ne[t].preload)).then((function(e){return e.json()}));case 9:return r=e.sent,e.abrupt("return",{dataFolder:ne[t].data.split("/")[0],dataStr:n,codeStr:a,preload:r});case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{dataStr:"",codeStr:"",preload:null});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var re=n(22);function ie(e){for(var t=[],n=0,a=Object.entries(e.nodes[0]);n<a.length;n++){var r=Object(s.a)(a[n],2),i=r[0],c=r[1];"number"===typeof c?t.push({name:i,type:"numerical"}):"string"===typeof c?t.push({name:i,type:"categorical"}):Array.isArray(c)&&t.push({name:i,type:"list"})}return t.forEach((function(t){if("numerical"===t.type){var n=function(e,t){var n=e.nodes.map((function(e){return e[t]}));return n.sort((function(e,t){return e-t})),{min:n[0],max:n[n.length-1],q1:n[parseInt(.25*n.length)],q3:n[parseInt(.75*n.length)]}}(e,t.name),a=n.min,r=n.max,i=n.q1,c=n.q3;t.min=a,t.max=r,t.q1=i,t.q3=c}})),t}var ce=n(38);function oe(e,t,n){var a={};return n.forEach((function(n){a[n.name]={};var r=e[n.name],i=t[n.name];if(void 0!==r&&void 0!==i){if("categorical"===n.type)r===i&&(a[n.name].common=a[n.name].common||{},a[n.name].common[r]=1,a[n.name].common["@@any"]=1);else if("list"===n.type){var c=(d=i,r.filter((function(e){return d.includes(e)})).sort());if(0===c.length)return void delete a[n.name];a[n.name].overlap=a[n.name].common||{},a[n.name].overlap["@@any"]=1;var o,s=function(e){var t,n=[[]],a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,c=[].concat(n),o=Object(x.a)(c);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.push(s.concat(i))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}return n}(c),l=Object(x.a)(s);try{for(l.s();!(o=l.n()).done;){var u=o.value.join("-");u&&(a[n.name].overlap[u]=1)}}catch(f){l.e(f)}finally{l.f()}}else if("numerical"===n.type){if(function(e,t,n){return e===t?0:Math.abs(e-t)/(n.max-n.min)}(r,i,n)<.3){var m=Math.abs(r-i);a[n.name].similar=m,r===i&&(a[n.name].common=a[n.name].common||{},a[n.name].common[r]=1,a[n.name].common["@@any"]=1)}r<n.q1&&i<n.q1?(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].low=1,a[n.name]["same-bin"]["@@any"]=1):r>=n.q1&&r<=n.q3&&i>=n.q1&&i<=n.q3?(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].middle=1,a[n.name]["same-bin"]["@@any"]=1):r>n.q3&&i>n.q3&&(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].high=1,a[n.name]["same-bin"]["@@any"]=1)}var d;0===Object.keys(a[n.name]).length&&delete a[n.name]}else delete a[n.name]})),a}function se(e,t){var n=Object.assign({},e);for(var a in t)if(a in n)for(var r in t[a])if(r in n[a])if("similar"===r)n[a][r]=Math.min(n[a][r],t[a][r]);else for(var i in t[a][r])i in n[a][r]?n[a][r][i]+=t[a][r][i]:n[a][r][i]=t[a][r][i];else n[a][r]=t[a][r];else n[a]=t[a];return n}function le(e,t){var n=Object.assign({},e);for(var a in t)if(a in n)for(var r in t[a])if(r in n[a])for(var i in t[a][r])i in n[a][r]?n[a][r][i]+=t[a][r][i]:n[a][r][i]=t[a][r][i];else n[a][r]=t[a][r];else n[a]=t[a];return n}function ue(e,t){var n=Object.assign({},e);for(var a in t)if(a in n){for(var r in t[a])if(r in n[a])if("number"===typeof n[a][r])n[a][r]>=t[a][r]?delete n[a][r]:n[a][r]=Object(ce.a)({},t[a][r],1);else{for(var i in t[a][r])i in n[a][r]&&delete n[a][r][i];0===Object.keys(n[a][r]).length&&delete n[a][r]}0===Object.keys(n[a]).length&&delete n[a]}return n}var me=n(26),de=n(27),fe=function(){function e(){Object(me.a)(this,e),this.array=[]}return Object(de.a)(e,[{key:"isItemEmpty",value:function(e){return!(null===e||void 0===e?void 0:e.tagName)&&!((null===e||void 0===e?void 0:e.style)&&Object.keys(e.style).length>0)}},{key:"isEmpty",value:function(){return this.array.every(this.isItemEmpty)}},{key:"getIndexOfDifferences",value:function(){var e=this,t=[];return this.array.forEach((function(n,a){e.isItemEmpty(n)||t.push(a)})),t}},{key:"eliminate",value:function(e){var t=e.array;this.array.forEach((function(e,n){var a=t[n];if(e.tagName&&a.tagName&&delete e.tagName,e.style)for(var r in e.style)a.style&&a.style[r]&&delete e.style[r]}))}}]),e}(),he=function(){function e(t){if(Object(me.a)(this,e),t){this.osvg=t;var n=[];L.dfs(t,(function(e){if(N.has(e.tagName)){var t=I(e);n.push({tagName:e.tagName,element:e,style:t})}})),this.basicElementArray=n}}return Object(de.a)(e,[{key:"diffWith",value:function(e){for(var t=this,n=new fe,a=Math.min(this.basicElementArray.length,e.basicElementArray.length),r=function(a){var r=t.basicElementArray[a],i=e.basicElementArray[a],c=void 0,o=void 0;r.tagName==i.tagName?o=new Set(Object.keys(r.style).concat(Object.keys(i.style))):(c={tagName:!0},o=w),o.forEach((function(e){var t;L.isEqual(r.style[e],i.style[e])||(c||(c={style:{}}),c.style=null!==(t=c.style)&&void 0!==t?t:{},c.style[e]=!0)})),n.array.push(c)},i=0;i<a;i++)r(i);return n}}]),e}();function pe(e,t){var n=new he(e),a=new he(t);return n.diffWith(a)}var ve=n(77);function ye(e,t){for(var n=[],a=0;a<e.length;a++)n.push({x:e[a],y:t[a]});return new ve.Statistics(n,{x:"metric",y:"metric"}).correlationCoefficient("x","y").correlationCoefficient}function be(e){for(var t=0;t<e.length;t++)if(isNaN(parseFloat(e[t])))return{first:"categorical",second:null};return e.length<=5&&e.every((function(e){return Number.isInteger(e)}))||new Set(e).size<.3*e.length?{first:"categorical",second:"numerical"}:{first:"numerical",second:null}}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,a=be(e),r=be(t);if(("numerical"===a.first||"numerical"===a.second)&&("numerical"===r.first||"numerical"===r.second)){var i=ye(e=e.map((function(e){return parseFloat(e)})),t=t.map((function(e){return parseFloat(e)})));if(Math.abs(i)>n)return{typeX:"numerical",typeY:"numerical",correlation:i}}if(a=a.first,r=r.first,"numerical"===a&&"numerical"===r){var c=ye(e=e.map((function(e){return parseFloat(e)})),t=t.map((function(e){return parseFloat(e)})));return{typeX:a,typeY:r,correlation:c}}if("categorical"===r){if("categorical"===a){for(var o={},s=0;s<e.length;s++)o[t[s]]||(o[t[s]]=new Set),o[t[s]].add(e[s]);for(var l in o)o[l]=Array.from(o[l]);return{typeX:a,typeY:r,attributeMapping:o}}for(var u={},m=0;m<e.length;m++)u[t[m]]||(u[t[m]]={min:Number.MAX_VALUE,max:Number.MIN_VALUE}),u[t[m]].min=Math.min(u[t[m]].min,e[m]),u[t[m]].max=Math.max(u[t[m]].max,e[m]);return{typeX:a,typeY:r,attributeMapping:u}}}function je(e){var t=function(e){var t=e.nodes.length,n={};e.nodes.forEach((function(e,t){n[e.id]=t}));var a=Array(t).fill().map((function(){return Array(t).fill(0)}));e.nodes.forEach((function(t,n){e.nodes.forEach((function(e,r){n!==r&&(a[n][r]=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}))}));for(var r=Array(t).fill().map((function(){return Array(t).fill(1/0)})),i=0;i<t;++i)r[i][i]=0;for(var c=0;c<e.links.length;++c){var o=n[e.links[c].source],s=n[e.links[c].target];r[o][s]=1,r[s][o]=1}for(var l=0;l<t;++l)for(var u=0;u<t;++u)for(var m=0;m<t;++m)r[u][l]+r[l][m]<r[u][m]&&(r[u][m]=r[u][l]+r[l][m]);return{euclidMatrix:a,floydMatrix:r}}(e),n=t.euclidMatrix,a=t.floydMatrix,r=n.length;a=a.flat(),n=n.flat();for(var i=[],c=0;c<a.length;c++)i.push({floyd:a[c],euclid:n[c]});i.sort((function(e,t){return e.floyd-t.floyd}));var o=i.slice(r);return new ve.Statistics(o,{floyd:"metric",euclid:"metric"}).correlationCoefficient("floyd","euclid").correlationCoefficient}function xe(e,t,n,a,r){var i,c=pe(t(j,L.deepcopy(e)),t(j,L.deepcopy(e))),o=F(e),l=t(j,L.deepcopy(e)),u=new he(l),m={},d=Object(x.a)(o[n].entries());try{var f=function(){var a=Object(s.a)(i.value,2),o=a[0],l=a[1],d=(l.type,l.range),f=L.deepcopy(e),h=j.shuffle(d.slice());f[n].forEach((function(e,t){o.indexOf("@")>0?e[o.split("@")[0]][o.split("@")[1]]=h[t]:e[o]=h[t]}));var p=t(j,f),v=new he(p),y=u.diffWith(v);if(c.isEmpty()||y.eliminate(c),y.isEmpty())return"continue";y.array.forEach((function(e,t){if(e){var n=r[t];if(void 0!=n&&"undefined"!=n){var a,i;m[n]=null!==(a=m[n])&&void 0!==a?a:{};var c=m[n];c[o]=null!==(i=c[o])&&void 0!==i?i:{},e.style&&Object.keys(e.style).forEach((function(n){if(S.has(n)){var a=v.basicElementArray[t].tagName;e.style[n+"."+a]=e.style[n],delete e.style[n]}})),c[o]=function(e,t){var n={};return[e,t].forEach((function(e){if(e.tagName&&(n.tagName|=e.tagName),e.style)for(var t in e.style){var a;n.style=null!==(a=n.style)&&void 0!==a?a:{},n.style[t]|=e.style[t]}})),n}(e,c[o])}}}))};for(d.s();!(i=d.n()).done;)f()}catch(O){d.e(O)}finally{d.f()}var h={},p=[];for(var v in r.forEach((function(e,t){h[e]||(h[e]=new Set),h[e].add(t)})),a.forEach((function(e,t){e.forEach((function(e){p[e]=t}))})),m){var y=m[v],b=function(t){var a=y[t],r=[];if(a.tagName&&r.push("tagName"),a.style)for(var i in a.style)a.style[i]&&r.push(i);var c={};r.forEach((function(e){c[e]=[]})),h[v].forEach((function(a){var i=p[a],o=u.basicElementArray[a],s=e[n][i][t];t.indexOf("@")>0&&(s=e[n][i][t.split("@")[0]][t.split("@")[1]]),r.forEach((function(e){c[e][i]="tagName"===e?[s,o.tagName]:[s,o.style[e.split(".")[0]]]}))}));for(var o=0;o<r.length;o++){var l=r[o];c[l]=c[l].filter((function(e){var t=Object(s.a)(e,2),n=(t[0],t[1]);return void 0!==n&&"auto"!==n&&"undefined"!==n}));var m=ge(c[l].map((function(e){return e[0]})),c[l].map((function(e){return e[1]})));m&&("numerical"===m.typeX&&m.typeY,"tagName"===l?a.tagName=m:a.style[l]=m)}};for(var g in y)b(g)}return m}function Oe(e,t,n){var a=pe(t(j,L.deepcopy(e)),t(j,L.deepcopy(e))),r=new Array(e[n].length),i=t(j,L.deepcopy(e)),c=[];c.max=0;for(var o=new Map,l=function(l){console.log("%c For %c".concat(n,"%c's attribute, computing %c").concat(n,"%c[%c").concat(l,"/").concat(e[n].length,"%c]'s encoding..."),"background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55");var u=L.deepcopy(e),m=u[n][l],d=i,f=h(m,u);function h(e,t){var a=[],r=[];function i(t){return!Object.keys(e).some((function(n){return"id"!==n&&"source"!==n&&"target"!==n&&!L.isEqual(e[n],t[n])}))}return t[n].forEach((function(e,t){i(e)||r.every((function(e){return!i(e)}))&&a.push(t)})),a}if(0==f.length)console.error("All entities have same attribute, algorithm can not detect any encoding.");else if(1==f.length){var p=f[0];u[n][l]=u[n][p],u[n][p]=m,1==(f=h(m=u[n][l],u)).length?console.error("Cannot deal with ".concat(n,"[").concat(l,"], only one ").concat(n.slice(0,-1)," diffs with it.")):d=t(j,L.deepcopy(u))}var v={},y=new he(d);f.forEach((function(e){var i,d,f,h=u[n][e];u[n][l]=h,u[n][e]=m,m=u[n][l];var p="".concat(e).concat("\u2192").concat(l);if(o.has(p)){var b=o.get(p),g=Object(s.a)(b,3);i=g[0],d=g[1],f=g[2]}if(!i&&!d&&!f){i=y;var x=t(j,L.deepcopy(u));d=new he(x);var O=i.diffWith(d);a.isEmpty()||O.eliminate(a),f=O.getIndexOfDifferences(),o.set("".concat(l).concat("\u2192").concat(e),[i,d,f])}f.forEach((function(e){v[e]||(v[e]=0),v[e]+=1,v[e]>=2&&(r[l]||(r[l]=new Set),r[l].add(e)),f.forEach((function(t){e!==t&&L.isEqual({style:i.basicElementArray[e].style,tagName:i.basicElementArray[e].tagName},{style:d.basicElementArray[t].style,tagName:d.basicElementArray[t].tagName})&&(c[e]&&!c[t]?c[t]=c[e]:!c[e]&&c[t]?c[e]=c[t]:c[e]||c[t]?(c[e],c[t]):c[e]=c[t]=++c.max)}))})),u[n][l]=u[n][e],u[n][e]=m,m=u[n][l]}))},u=0;u<e[n].length;u++)l(u);return[r,c]}function Ee(e){var t=e.text;return Object(h.jsx)("div",{style:{width:"100vw",height:60,lineHeight:"60px",borderBottom:"1px solid #dfdfdf",fontFamily:"Times",fontSize:35,fontWeight:"600",textIndent:30,position:"fixed",top:0,backgroundColor:"white"},children:t||"Graph Auxiliaries"})}function we(e){return"string"===typeof e&&e.includes("@")?e=e.replace(/@(.*)/g,(function(e,t){return"[".concat(t,"]")})):"r"===e&&(e="radius"),e}function ke(e){var t="",n="";if(e.type?(t=e.type,n=e.value):n=e,Array.isArray(n))return n.map((function(e){return"<span class='description-parameter ".concat(t,"'>").concat(we(e),"</span>")}));if(n=we(n),/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)){var a=R(n);return"<span class='description-parameter ".concat(t,"'>").concat(a,"(<span style='color: ").concat(n,";'>&#9724;</span>").concat(n,")</span>")}return"<span class='description-parameter ".concat(t,"'>").concat(n,"</span>")}function Ne(e,t,n){var a=e.bbox,r=t/n,i=e.group.cloneNode(!0);return j.select(i).attr("transform","scale(".concat(r,")translate(").concat(-(a.x+a.width/2),", ").concat(-(a.y+a.height/2),")")),i}function Se(e){var t=e.el,n=e.width,a=e.viewBox;return t?Object(h.jsx)("svg",{width:n,height:n,style:"line"===t.tagName?{verticalAlign:"middle",stroke:"#999",opacity:"0.6"}:{verticalAlign:"middle"},viewBox:a||"-".concat(n/2," -").concat(n/2," ").concat(n," ").concat(n),dangerouslySetInnerHTML:{__html:(new XMLSerializer).serializeToString(t)}}):null}function Me(e){return Number(e)==e}function Te(e){return t=e,Number(t)==t&&t%1!==0?Number(e).toFixed(2):e;var t}function Ce(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ae(e,t,n,a,r,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=arguments.length>7?arguments[7]:void 0,s=[];return e.forEach((function(e,l){var u="".concat(c,"-").concat(l);e.switch&&a.push(u);var m={};if(e.parameters.forEach((function(e){m[e.type]=e.value})),"channel-parameter"in m&&"attribute-parameter"in m)!function(){for(var a=[],r=m["attribute-parameter"],c=new Map,l=j.max(e.elements,(function(e){return Math.max(e.getBBox().width,e.getBBox().height)})),d=function(o){var s=t[n[e.elementsIdx[o]].entityType+"s"][n[e.elementsIdx[o]].entityIndex],u=Te(-1!==r.indexOf("@")?s[r.split("@")[0]][r.split("@")[1]]:s[r]),d=e.elements[o].getAttribute(m["channel-parameter"]);-1!==m["channel-parameter"].indexOf("textContent")&&(d=e.elements[o].innerHTML);var f=Object(h.jsx)("span",{className:"description-parameter attribute-parameter",children:Te(d)});if(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(d)){var p=R(d);f=Object(h.jsxs)("span",{class:"description-parameter",children:[p,"(",Object(h.jsx)("span",{style:{color:d},children:"\u25fc"}),d,")"]})}var v="".concat(d,"\u2192").concat(u);if(c.has(v))return c.get(v).push(e.elements[o]),"continue";c.set(v,[e.elements[o]]);var y=Ne({group:e.elements[o],bbox:e.elements[o].getBBox()},30,l),b=e.elements[o],g=Object(h.jsxs)("div",{style:{paddingRight:"10px"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="#e9e9e9",i.forEach((function(e){j.select(e).attr("opacity",.1)})),c.get(v).forEach((function(e){j.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="#fff",i.forEach((function(e){j.select(e).attr("opacity",1)}))},children:[y&&Object(h.jsx)(Se,{el:y,width:30}),Object(h.jsx)("span",{className:"description-parameter channel-parameter",children:m["channel-parameter"]}),Object(h.jsx)("span",{children:": "}),f,Object(h.jsx)("span",{children:" \u2192 "}),Object(h.jsx)("span",{className:"description-parameter attribute-parameter",children:-1!==r.indexOf("@")?"".concat(r.split("@")[0],"[").concat(r.split("@")[1],"]"):r}),Object(h.jsx)("span",{children:": "}),Object(h.jsx)("span",{className:"description-parameter value-parameter",children:u})]});a.push({orIcon:b,elIcon:y,channel:d,attrValue:u,title:g,key:"".concat(v,"-").concat(o)})},f=0;f<e.elements.length;f++)d(f);a.sort((function(e,t){function n(e,t){var n=e,a=t;return Me(n)&&Me(a)&&(n=Number(n),a=Number(a)),n>a?1:n<a?-1:0}return e.channel===t.channel?n(e.attrValue,t.attrValue):n(e.channel,t.channel)}));var p=[a[a.length-1].orIcon.cloneNode(!0),a[a.length-1].orIcon.cloneNode(!0),a[a.length-1].orIcon.cloneNode(!0)];"textContent"===m["channel-parameter"][0]?(p[0].textContent=a[0].channel,p[1].textContent=a[Math.floor(a.length/2)].channel):(p[0].setAttribute(m["channel-parameter"][0],a[0].channel),p[1].setAttribute(m["channel-parameter"][0],a[Math.floor(a.length/2)].channel));var v=o.cloneNode();document.body.appendChild(v);var y=[],b=p.reduce((function(e,t){v.appendChild(t);var n=t.getBBox();return y.push(n),Math.max(Math.max(n.width,n.height),e)}),0);document.body.removeChild(v),p.forEach((function(e){return e.remove()})),v.remove();var g=Object(h.jsxs)("div",{style:{padding:5},onMouseEnter:function(t){t.currentTarget.style.backgroundColor="#e9e9e9",i.forEach((function(e){j.select(e).attr("opacity",.1)})),e.elements.forEach((function(e){j.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="#fff",i.forEach((function(e){j.select(e).attr("opacity",1)}))},children:[p&&p.map((function(e,t){var n=y[t],a=24/b,r=e.cloneNode(!0);return j.select(r).attr("transform","scale(".concat(a,")translate(").concat(2-n.x,", ").concat(2-n.y,")")),Object(h.jsx)("span",{style:{marginRight:3},children:Object(h.jsx)(Se,{el:r,viewBox:"0 0 30 30",width:30},t)})})),Object(h.jsx)("span",{className:"description-parameter channel-parameter",children:m["channel-parameter"]}),Object(h.jsx)("span",{children:" \u2192 "}),Object(h.jsx)("span",{className:"description-parameter attribute-parameter",children:-1!==r.indexOf("@")?"".concat(r.split("@")[0],"[").concat(r.split("@")[1],"]"):r})]});s.push({title:g,key:u,children:a})}();else if("entity-parameter"in m)s.push({title:Object(h.jsx)("div",{className:"description-parameter entity-parameter",children:Ce(m["entity-parameter"])}),key:u,children:Array.isArray(e.children)&&e.children.length>0?Ae(e.children,t,n,a,r,i,u,o):null});else{if(Array.isArray(m["element-parameter"])&&m["element-parameter"].length>1){console.log(m);var d=e.children[0].parameters.filter((function(e){return"attribute-parameter"===e.type}))[0].value,f=Object(h.jsxs)("span",{style:{padding:5},onMouseEnter:function(t){t.currentTarget.style.backgroundColor="#e9e9e9",i.forEach((function(e){j.select(e).attr("opacity",.1)})),e.elements.forEach((function(e){j.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="#fff",i.forEach((function(e){j.select(e).attr("opacity",1)}))},children:[Object(h.jsx)("span",{className:"description-parameter channel-parameter",children:"tagName"}),Object(h.jsx)("span",{children:" \u2192 "}),Object(h.jsx)("span",{className:"description-parameter attribute-parameter",children:d})]}),p=[];e.children.forEach((function(e,t){var n={};e.parameters.forEach((function(e){n[e.type]=e.value}));for(var a=n["attribute-parameter"],r=n["value-parameter"],c=new Map,o=function(o){var s=Ne({group:e.elements[o],bbox:e.elements[o].getBBox()},30,30),l="".concat(n["element-parameter"],"\u2192").concat(r);if(c.has(l))return c.get(l).push(e.elements[o]),"continue";c.set(l,[e.elements[o]]);var u=Object(h.jsxs)("div",{style:{paddingRight:"10px"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="#e9e9e9",i.forEach((function(e){j.select(e).attr("opacity",.1)})),c.get(l).forEach((function(e){j.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="#fff",i.forEach((function(e){j.select(e).attr("opacity",1)}))},children:[s&&Object(h.jsx)(Se,{el:s,width:30}),Object(h.jsx)("span",{className:"description-parameter channel-parameter",children:"tagName"}),Object(h.jsx)("span",{children:": "}),Object(h.jsx)("span",{class:"description-parameter",dangerouslySetInnerHTML:{__html:n["element-parameter"]}}),Object(h.jsx)("span",{children:" \u2192 "}),Object(h.jsx)("span",{className:"description-parameter attribute-parameter",children:-1!==a.indexOf("@")?"".concat(a.split("@")[0],"[").concat(a.split("@")[1],"]"):a}),Object(h.jsx)("span",{children:": "}),Object(h.jsx)("span",{className:"description-parameter value-parameter",children:r})]});p.push({title:u,key:"".concat(l,"--").concat(t,"--").concat(o)})},s=0;s<e.elements.length;s++)o(s)})),s.push({title:f,key:u,children:p})}s=s.concat(Array.isArray(e.children)&&e.children.length>0?Ae(e.children,t,n,a,r,i,u,o):null)}})),s}function Ie(e){var t=e.data,n=e.elementInfo,a=e.entityElementsGroups,r=e.graphDescriptions,i=e.visibleElements,c=e.loadingText,o=e.loading,s=e.SVG;if(!n||!t||!r||!a||!("node"in a))return null;console.log(r),console.log(t),console.log(n);var l=[],u=[];return!o&&r&&r.length&&(l=Ae(r,t,n,u,a,i,"",s),console.log(l)),Object(h.jsx)("div",{style:{margin:20,marginLeft:30},children:!o&&r&&r.length?Object(h.jsx)(P.a,{style:{fontSize:18},selectable:!1,treeData:l,defaultExpandedKeys:u}):Object(h.jsx)(G,{style:{margin:20,marginLeft:28,padding:2,fontFamily:"Times"},state:c})})}function Le(e){var t=e.dataFolder,n=e.dataStr,r=e.elementInfo,i=e.style,c=e.linkConditions,o=e.graphDescriptions,l=e.layoutDescriptions,m=e.entityElementsGroups,d=e.visibleElements,f=e.loading,p=e.SVG,y=e.nodeMeanings,b=e.switchedOn,g=Object(a.useState)(null),E=Object(s.a)(g,2),w=E[0],k=E[1];Object(a.useEffect)((function(){if(n){var e=JSON.parse(n);k(e)}}),[n]);var N=O(c),S=function(e){var t,n={isTopo:!1,encodings:[],elements:new Set},a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(0===r.parameters.length)n.isTopo=!0,r.elements.forEach((function(e){n.elements.add(e)}));else{var i={key:r.parameters[0].value,value:r.parameters[1].value};n.encodings.push(i),r.children[0].elements.forEach((function(e){n.elements.add(e)}))}}}catch(c){a.e(c)}finally{a.f()}return n}(l),M=null,T=null;if(m.node){var C={node:Math.max(m.node.maxBBox.width,m.node.maxBBox.height),link:Math.max(m.link.maxBBox.width,m.link.maxBBox.height)};M=Ne(m.node[0],Math.min(50,C.node),C.node),T=Ne(m.link[0],Math.min(50,C.link),C.link)}return Object(h.jsxs)("div",{style:Object(u.a)(Object(u.a)({},i),{},{margin:5,display:"".concat(b?"flex":"none"),flexDirection:"column"}),children:[Object(h.jsx)(v,{title:"Legends"}),Object(h.jsxs)("div",{style:{fontSize:18,paddingLeft:10},children:[Object(h.jsx)($.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Node & Link Meanings"}),f?Object(h.jsx)(G,{style:{margin:20,marginLeft:58,padding:2,fontFamily:"Times"},state:"Computing Linking Condition"}):Object(h.jsxs)("div",{style:{margin:20,marginLeft:58,padding:2,fontFamily:"Times"},children:[" ",[{icon:M,description:y,key:"Node"},{icon:T,description:N,key:"Link"}].map((function(e,t){var n=e.icon,a=e.description,r=e.key;return Object(h.jsxs)("div",{style:{cursor:"pointer"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="#e9e9e9",d.forEach((function(e){j.select(e).attr("opacity",.1)})),o[t].elements.forEach((function(e){j.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="#fff",d.forEach((function(e){j.select(e).attr("opacity",1)}))},children:[n&&Object(h.jsx)(Se,{el:n,width:50}),Object(h.jsx)("span",{className:"description-parameter entity-parameter",children:r}),": ",Object(h.jsx)("span",{dangerouslySetInnerHTML:{__html:a}})]},r)}))]}),Object(h.jsx)($.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Visual Encoding"}),Object(h.jsx)(Ie,{data:w,elementInfo:r,entityElementsGroups:m,loading:f,graphDescriptions:o,visibleElements:d,loadingText:"Computing Visual Encoding",SVG:p}),Object(h.jsx)($.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Layout Types"}),Object(h.jsxs)("div",{style:{margin:20,marginLeft:58,padding:2,fontFamily:"Times"},children:[S.isTopo&&Object(h.jsx)("p",{children:"The layout is a topology-based layout. The farther the geodesic distance (the length of the shortest path) between two nodes, the farther the Euclidean distance between them."}),S.encodings.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{alt:"data/".concat(t,"/layout-indicator.svg"),width:35,height:35,src:"data/".concat(t,"/layout-indicator.svg")}),Object(h.jsx)("span",{className:"tooltip-attr",children:e.key}),Object(h.jsx)("span",{children:" \u2192 "}),e.value.map((function(e){return Object(h.jsx)("span",{className:"tooltip-attr",children:-1!==e.indexOf("@")?"".concat(e.split("@")[0],"[").concat(e.split("@")[1],"]"):e})}))]})}))]})]})]})}var Fe="DESCRIPTIONS",Ve="TOOLTIPS",De="LEGENDS",Be=[Fe,De,Ve];function qe(e){var t=e.title,n=e.nodeMeanings,r=Object(a.useState)(0),i=Object(s.a)(r,2),c=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],v=Object(a.useState)(""),y=Object(s.a)(v,2),x=y[0],O=y[1],E=Object(a.useState)(""),k=Object(s.a)(E,2),S=k[0],C=k[1],A=Object(a.useState)(document.createElement("svg")),I=Object(s.a)(A,2),V=I[0],q=I[1],z=Object(a.useState)([]),W=Object(s.a)(z,2),G=W[0],P=W[1],H=Object(a.useState)({}),J=Object(s.a)(H,2),X=J[0],R=J[1],Y=Object(a.useState)([]),U=Object(s.a)(Y,2),K=U[0],$=U[1],Z=Object(a.useState)(null),ee=Object(s.a)(Z,2),te=ee[0],ne=ee[1],ce=Object(a.useState)(null),me=Object(s.a)(ce,2),de=me[0],fe=me[1],pe=Object(a.useState)([]),ve=Object(s.a)(pe,2),ye=ve[0],be=ve[1],we=Object(a.useState)({}),Ne=Object(s.a)(we,2),Se=Ne[0],Me=Ne[1],Te=Object(a.useState)(Fe),Ce=Object(s.a)(Te,2),Ae=Ce[0],Ie=Ce[1],qe=Object(re.g)().demo,ze=Object(a.useState)(""),_e=Object(s.a)(ze,2),We=_e[0],Ge=_e[1];if(Object(a.useEffect)((function(){qe&&(console.log(qe),function(e){return ae.apply(this,arguments)}(qe).then((function(e){var t=e.dataStr,n=e.codeStr,a=e.preload,r=e.dataFolder;if(O(t),C(n),Ge(r),a){var i=document.createElement("div");i.innerHTML=a.svg;var c=i.firstChild;q(c);var o=function(e){var t=[];return L.dfs(e,(function(e){N.has(e.tagName)&&t.push(e)})),t}(c),s=a.descriptions,l=a.layoutDescriptions,u=a.elementInfo,m=a.label2Encodings;s.forEach((function(e){L.dfs(e,(function(e){e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return o[e]})))}))})),l.forEach((function(e){L.dfs(e,(function(e){e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return o[e]})))}))})),P(o),R(s),$(l),fe(m),ne(u)}})))}),[qe]),Object(a.useEffect)((function(){0!==c&&function(){try{var e=JSON.parse(x),t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,a=L.deepcopy(t),r=performance.now(),i=new Function("d3","data",e),c=i(j,L.deepcopy(a)),l=new he(c);console.log("%c Computing nodes' encodings...","background: #222; color: #bada55"),console.log("%c Computing links' encodings...","background: #222; color: #bada55");for(var u=Oe(a,i,"nodes"),m=Object(s.a)(u,2),d=m[0],f=m[1],h=Oe(a,i,"links"),p=Object(s.a)(h,2),v=p[0],y=p[1],b=[],g=function(e){var t;null===(t=v[e])||void 0===t||t.forEach((function(t){b[t],b[t]=e}))},x=0;x<v.length;x++)g(x);for(var O=function(e){var t,n=new Set;null===(t=d[e])||void 0===t||t.forEach((function(e){void 0===b[e]?n.add(e):delete f[e]})),d[e]=n},E=0;E<d.length;E++)O(E);var k=new Set;v.forEach((function(e){e.forEach((function(e){k.add(e)}))})),d.forEach((function(e){e.forEach((function(e){k.has(e)}))}));var S=xe(a,i,"nodes",d,f),C=xe(a,i,"links",v,y),A=[],I=[{entityType:"node",entity2element:d,element2label:f,label2attr2diff:S},{entityType:"link",entity2element:v,element2label:y,label2attr2diff:C}];function V(e,t,a){var r=[];return e.forEach((function(e){var i=Object(s.a)(e,2),c=i[0],o=i[1],l=[];o.tagName&&l.push("tagName"),o.style&&Object.entries(o.style).forEach((function(e){var t=Object(s.a)(e,2),n=t[0];t[1]&&l.push("".concat(n.split(".")[0]))})),l.forEach((function(e){var i;i="tagName"===e?o.tagName:o.style[e];var l={template:M.channels2attribute(),parameters:[{type:T.channel,value:[e]},{type:T.attribute,value:c}],elements:t,elementsIdx:a,switch:!1,children:[]};i&&!0!==i&&("numerical"===i.typeX&&"numerical"===i.typeY&&Math.abs(i.correlation)>n?l.children.push({template:M.correlationN2N(i.correlation>0),parameters:[{type:T.channel,value:e},{type:T.attribute,value:c}],elements:t,elementsIdx:a}):"numerical"===i.typeX&&"categorical"===i.typeY?Object.entries(i.attributeMapping).forEach((function(n){var r=Object(s.a)(n,2),i=r[0],o=r[1];l.children.push({template:M.correlationN2C,parameters:[{type:T.channel,value:e},{type:T.attribute,value:c},{type:T.value,value:i},{type:T.value,value:o.min},{type:T.value,value:o.max}],elements:t.filter((function(t){return"tagName"!==e?"textContent"===e?t.textContent===i:t.attributes[e].value==i:t.tagName==i})),elementsIdx:a.filter((function(n,a){return"tagName"!==e?"textContent"===e?t[a].textContent===i:t[a].attributes[e].value==i:t[a].tagName==i}))})})):"categorical"===i.typeX&&"categorical"===i.typeY&&i.attributeMapping&&Object.entries(i.attributeMapping).forEach((function(n){var r=Object(s.a)(n,2),i=r[0],o=r[1];l.children.push({template:M.correlationC2C,parameters:[{type:T.channel,value:e},{type:T.attribute,value:c},{type:T.value,value:i},{type:T.value,value:o}],elements:t.filter((function(t){return"tagName"!==e?"textContent"===e?t.textContent===i:t.attributes[e].value===i:t.tagName===i})),elementsIdx:a.filter((function(n,a){return"tagName"!==e?"textContent"===e?t[a].textContent===i:t[a].attributes[e].value===i:t[a].tagName===i}))})}))),0==l.children.length&&l.children.push({template:M.correlationUndefined,parameters:[{type:T.channel,value:e},{type:T.attribute,value:c}],elements:t,elementsIdx:a}),r.push(l)}))})),r}console.log(I),I.forEach((function(e){var t=e.entityType,n=e.entity2element,a=e.element2label,r=e.label2attr2diff,i=Object.keys(r).length,c=[],u=[];n.forEach((function(e){e&&e.forEach((function(e){u.push(e),c.push(l.basicElementArray[e].element)}))}));var m={template:M.constituent(t,i),parameters:[{type:T.entity,value:t},{type:T.value,value:i}],elements:c,elementsIdx:u,switch:!0,children:[]};A.push(m);var d={},f={};for(var h in r){var p,v=r[h],y=JSON.stringify(v);d[y]=null!==(p=d[y])&&void 0!==p?p:new Set,d[y].add(h),f[h]=y}var b=1,g=function(e){var t=a.map((function(t,n){return t==e?n:void 0})).filter((function(e){return void 0!==e})),n=a.map((function(t,n){return t==e?l.basicElementArray[n].element:void 0})).filter((function(e){return e})),c=r[e],u=Array.from(new Set(a.map((function(t,n){return t==e?l.basicElementArray[n].tagName:void 0})).filter((function(e){return e})))).sort();if(1===u.length){var d={template:M.onePrimitive(i),parameters:[B(b),{type:T.element,value:"&lt;".concat(u[0],"&gt;")}],elements:n,elementsIdx:t,switch:!0,children:[]};m.children.push(d),d.children=V(Object.entries(c),n,t),console.log(c),console.log(d)}else if(u.length>1){var f={template:M.multiPrimitive(i),parameters:[B(b),{type:T.element,value:u.map((function(e){return"&lt;".concat(e,"&gt;")}))}],elements:n,elementsIdx:t,switch:!0,children:[]};m.children.push(f);var h={};V(Object.entries(c).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];if(r.tagName)if("categorical"===r.tagName.typeX){var i=function(e){var t,n;h[e]=null!==(t=h[e])&&void 0!==t?t:{attrName:a},h[e].attrVal=null!==(n=h[e].attrVal)&&void 0!==n?n:new Set,r.tagName.attributeMapping[e].forEach((function(t){h[e].attrVal.add(t)}))};for(var c in r.tagName.attributeMapping)i(c)}else for(var o in r.tagName.attributeMapping){var l,u;h[o]=null!==(l=h[o])&&void 0!==l?l:{attrName:a},h[o].attrVal=null!==(u=h[o].attrVal)&&void 0!==u?u:{max:-1/0,min:1/0},h[o].attrVal.max=Math.max(h[o].attrVal.max,Number(r.tagName.attributeMapping.max)),h[o].attrVal.min=Math.min(h[o].attrVal.min,Number(r.tagName.attributeMapping.min))}var m={};if(r.style)for(var d in r.style){var f;w.has(d)&&r.style[d]&&(m.style=null!==(f=m.style)&&void 0!==f?f:{},m.style[d]=r.style[d])}return Object.keys(m).length&&e.push([a,m]),e}),[]),n,t).forEach((function(e){m.children.push(e)})),u.forEach((function(e){var a=n.filter((function(t){return t.tagName===e})),r=t.filter((function(t,a){return n[a].tagName===e})),i="max"in h[e].attrVal&&"min"in h[e].attrVal?[h[e].attrVal.min,h[e].attrVal.max]:Array.from(h[e].attrVal),l={template:M.multiPrimitiveTagName(h[e].attrVal),parameters:[{type:T.element,value:"&lt;".concat(e,"&gt;")},{type:T.attribute,value:h[e].attrName}].concat(Object(o.a)(i.map((function(e){return{type:T.value,value:e}})))),elements:a,elementsIdx:r,switch:!0,children:[]};f.children.push(l);var u=Object.entries(c).reduce((function(t,n){var a=Object(s.a)(n,2),r=a[0],i=a[1],c={};if(i.style)for(var o in i.style){var l;o.split(".")[1]===e&&(o=o.split(".")[0]),N.get(e).has(o)&&!w.has(o)&&(c.style=null!==(l=c.style)&&void 0!==l?l:{},c.style[o]=i.style[o])}return Object.keys(c).length&&t.push([r,c]),t}),[]);l.children=V(u,a,r)}))}b++};for(var j in r)g(j)})),console.log(A);var q=Array.from(F(a).nodes.entries());document.body.appendChild(c);var z=c.getBoundingClientRect();d.forEach((function(e,t){var n=Array.from(e).map((function(e){return l.basicElementArray[e].element})),r={x:1/0,y:1/0},i={x:-1/0,y:-1/0};n.forEach((function(e){var t=e.getBoundingClientRect(),n=t.x-z.x,a=t.y-z.y;r.x=Math.min(r.x,n+t.width/2),i.x=Math.max(i.x,n+t.width/2),r.y=Math.min(r.y,a+t.height/2),i.y=Math.max(i.y,a+t.height/2)})),a.nodes[t].x=(i.x+r.x)/2,a.nodes[t].y=(i.y+r.y)/2})),document.body.removeChild(c);var _=performance.now();console.log("Computing time:",_-r,"ms");var W=l.basicElementArray.map((function(e){return e.element}));W.forEach((function(e,t){e.setAttribute("idx",t)}));for(var G=new Array(l.basicElementArray.length).fill().map((function(e,t){return t})),P=a.nodes.map((function(e){return e.x})),H=a.nodes.map((function(e){return e.y})),J=[],X=[],R=0;R<q.length;R++){var Y=q[R][0],U=q[R][1].range,K=ge(P,U);Math.abs(null===K||void 0===K?void 0:K.correlation)>n&&J.push({name:Y,type:(null===K||void 0===K?void 0:K.correlation)>0});var $=ge(H,U);Math.abs(null===$||void 0===$?void 0:$.correlation)>n&&X.push({name:Y,type:(null===$||void 0===$?void 0:$.correlation)>0})}var Q=[];J.length>0&&X.length>0&&[{axis:"x",attrs:J},{axis:"y",attrs:X}].forEach((function(e){var t=e.axis,n=e.attrs;Q.push({template:function(e,t){return"The ".concat(e,"-coordinates encodes ").concat(t.length>1?"":"the"," attribute").concat(t.length>1?"":"s"," ").concat(D(t))},parameters:[{type:T.channel,value:t},{type:T.attribute,value:n.map((function(e){return e.name}))}],elements:[],elementsIdx:[],children:n.map((function(e){return{template:function(t,n){return"The greater the ".concat(n," is, the ").concat(e.type?"greater\ud83d\udcc8":"smaller\ud83d\udcc9"," the ").concat(t,"-coordinate is.")},parameters:[{type:T.channel,value:t},{type:T.attribute,value:e.name}],elements:W,elementsIdx:G}}))})}));var Z=je(a);Math.abs(Z)>.3?Q.push({template:function(){return"The layout is a topology-based layout, the farther the geodesic distance (the length of the shortest path) between two nodes, the farther the Euclidean distance between them."},parameters:[],elements:W,elementsIdx:G}):0===J.length&&0===X.length&&Q.push({template:function(){return"The layout is neither an attribute-based layout nor a topology-based layout."},parameters:[],elements:W,elementsIdx:G});var ee=[],te={};return I.forEach((function(e){var t=e.entityType,n=e.entity2element,a=e.element2label,r=e.label2attr2diff;n.forEach((function(e,n){e.forEach((function(e){ee[e]={entityType:t,entityIndex:n}}))})),a.forEach((function(e,t){Number.isInteger(e)&&(ee[t].label=e)})),te[t]=r})),console.log(te),{svg:c,allElements:W,allElementsIdx:G,descriptions:A,layoutDescriptions:Q,elementInfo:ee,label2Encodings:te}}(S,e),n=t.svg,a=t.allElements,r=t.descriptions,i=t.layoutDescriptions,c=t.elementInfo,l=t.label2Encodings,u=(new XMLSerializer).serializeToString(n);r.forEach((function(e){L.dfs(e,(function(e){delete e.elements,e.content=e.template.apply(e,Object(o.a)(e.parameters.map(ke)))}))})),i.forEach((function(e){L.dfs(e,(function(e){delete e.elements,e.content=e.template.apply(e,Object(o.a)(e.parameters.map(ke)))}))}));var m={svg:u,descriptions:r,layoutDescriptions:i,elementInfo:c,label2Encodings:l};console.log(JSON.stringify(m)),r.forEach((function(e){L.dfs(e,(function(e){e.content=e.template.apply(e,Object(o.a)(e.parameters.map(ke))),e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return a[e]})))}))})),i.forEach((function(e){L.dfs(e,(function(e){e.content=e.template.apply(e,Object(o.a)(e.parameters.map(ke))),e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return a[e]})))}))})),q(n),P(a),R(r),$(i),ne(c),fe(l),p(!1)}catch(d){console.error("invalid code or dataset."),console.error(d)}}()}),[c]),Object(a.useEffect)((function(){try{var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=ie(e),a={};e.nodes.forEach((function(e){a[e.id]=e}));var r=new Set;e.links.forEach((function(e){r.add("".concat(e.source,"+").concat(e.target)),r.add("".concat(e.target,"+").concat(e.source))}));var i={};Object.keys(a).forEach((function(e){Object.keys(a).forEach((function(t){var c="".concat(e,"+").concat(t);if(e!==t&&!r.has(c)){var o=oe(a[e],a[t],n);i=se(i,o)}}))}));var c=null;e.links.forEach((function(e){var t=oe(a[e.source],a[e.target],n);c=c?le(c,ue(t,i)):ue(t,i)}));var o=e.links.length,s=[];for(var l in c)for(var u in c[l])if("number"!==typeof c[l][u])for(var m in c[l][u])c[l][u][m]>o*t&&s.push({attribute:l,relation:u,value:m,frequency:c[l][u][m],coverage:c[l][u][m]/o});return s}(JSON.parse(x),.8);be(e)}catch(t){console.error("Invalid dataset"),be([])}}),[x]),Object(a.useEffect)((function(){if(V&&te){var e={node:[],link:[]};te.forEach((function(t){if(t&&!e[t.entityType][t.entityIndex]){var n=V.cloneNode(!0);L.dfs(n,(function(e){var n=parseInt(e.getAttribute("idx"));if(!isNaN(n)){var a=te[n];a&&a.entityIndex===t.entityIndex&&a.entityType===t.entityType||e.remove()}})),document.body.appendChild(n);var a=n.getBBox();document.body.removeChild(n);var r=document.createElement("g");Array.from(n.children).forEach((function(e){r.appendChild(e)})),e[t.entityType][t.entityIndex]={group:r,bbox:a}}})),Object.keys(e).forEach((function(t){e[t].maxBBox=e[t].reduce((function(e,t){return e.width=Math.max(e.width,t.bbox.width),e.height=Math.max(e.height,t.bbox.height),e}),{width:0,height:0})})),Me(e)}}),[V,te]),x)JSON.parse(x);return Object(h.jsxs)("div",{style:{},children:[Object(h.jsx)(Ee,{text:t}),Object(h.jsxs)("div",{style:{width:"95vw",minWidth:1400,marginTop:70,paddingLeft:"2.5vw",paddingBottom:70,display:"flex",flexDirection:"raw"},children:[Object(h.jsxs)("div",{id:"left-container",style:{flex:1.2,height:"95vh",overflowY:"scroll",position:"relative"},children:[Object(h.jsx)("div",{style:{float:"right",marginRight:310},children:Object(h.jsx)(l.a.Group,{style:{position:"fixed",zIndex:1e3},options:Be.map((function(e){return{label:e,value:e}})),onChange:function(e){return Ie(e.target.value)},value:Ae,optionType:"button"})}),Object(h.jsx)(_,{style:{margin:5},dataFolder:We,svg:V,dataStr:x,elementInfo:te,layoutDescriptions:K,label2Encodings:de,linkConditions:ye,entityElementsGroups:Se,visibleElements:G,nodeMeanings:n,switchedOn:Ae===Ve}),Object(h.jsx)(b,{codeStr:S,setCodeStr:C,submit:function(){p(!0),u(c+1)},style:{}}),Object(h.jsx)(g,{dataStr:x,setDataStr:O,style:{}})]}),Object(h.jsxs)("div",{id:"right-container",style:{flex:.8,height:"95vh",overflowY:"scroll",display:"".concat(Ae===De||Ae===Fe?"":"none")},children:[Object(h.jsx)(Le,{dataFolder:We,dataStr:x,elementInfo:te,loading:f,linkConditions:ye,graphDescriptions:X,layoutDescriptions:K,entityElementsGroups:Se,visibleElements:G,nodeMeanings:n,SVG:V,switchedOn:Ae===De}),Object(h.jsx)(Q,{loading:f,linkConditions:ye,graphDescriptions:X,layoutDescriptions:K,visibleElements:G,nodeMeanings:n,switchedOn:Ae===Fe})]})]})]})}var ze=n(116),_e=n(217);n(146);function We(e){var t=e.title,n=e.image,a=e.children,r=e.route,i=Object(re.f)();return Object(h.jsxs)(_e.a,{hoverable:!0,style:{width:350,height:420,margin:10,borderRadius:7},cover:Object(h.jsx)("img",{alt:t,src:n,style:{width:320,height:320,objectFit:"contain",borderRadius:"7px 7px 0 0"}}),onClick:function(){i.push(r)},children:[Object(h.jsx)(_e.a.Meta,{style:{whiteSpace:"normal",height:40},title:t}),Object(h.jsx)("div",{style:{height:30,lineHeight:"25px",textOverflow:"ellipsis",overflow:"hidden"},children:a})]})}n(212);function Ge(){return Object(h.jsxs)("div",{style:{height:"100vh",display:"flex",alignItems:"center",flexDirection:"column",overflow:"initial",backgroundColor:"#f5f5f5"},children:[Object(h.jsx)(Ee,{}),Object(h.jsx)("div",{style:{width:"80%",maxWidth:1e3,marginTop:80,marginBottom:80},children:Object(h.jsxs)("div",{style:{display:"flex",height:"40vh",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(h.jsxs)(We,{image:"./data/imdb-movies-raw/imdb-movies.png",title:"Movie-Actor-2019-China",route:"/imdb-movies",children:[Object(h.jsx)("span",{class:"description-parameter",children:"49"})," nodes and"," ",Object(h.jsx)("span",{class:"description-parameter",children:"99"})," links"]}),Object(h.jsxs)(We,{image:"./data/imdb-movies-shapes/imdb-movies-shapes.png",title:"Movie-Actor-Jean-Pierre",route:"/imdb-movies-shapes",children:[Object(h.jsx)("span",{class:"description-parameter",children:"14"})," nodes and"," ",Object(h.jsx)("span",{class:"description-parameter",children:"25"})," links"]}),Object(h.jsxs)(We,{image:"./data/imdb-actors/imdb-actors.png",title:"Actor-Movie-2016-2021-China",route:"/imdb-actors",children:[Object(h.jsx)("span",{class:"description-parameter",children:"17"})," nodes and"," ",Object(h.jsx)("span",{class:"description-parameter",children:"55"})," links"]}),Object(h.jsxs)(We,{image:"./data/imdb-movies-link/imdb-movies-link.png",title:"Movie-Year-Nolan",route:"/imdb-movies-link",children:[Object(h.jsx)("span",{class:"description-parameter",children:"11"})," nodes and"," ",Object(h.jsx)("span",{class:"description-parameter",children:"16"})," links"]})]})})]})}var Pe={"imdb-movies-shapes":"Movie-Actor-Jean-Pierre","imdb-movies":"Movie-Actor-2019-China","imdb-actors":"Actor-Movie-2016-2021-China","imdb-movies-link":"Movie-Year-Nolan"},He={"imdb-movies-shapes":"movies directed by Jean-Pierre Melville","imdb-movies":"movies published in 2019, China","imdb-actors":"actors who acted in more than five Chinese movies from 2016 to 2021","imdb-movies-link":"movies directed by Christopher Nolan"};var Je=function(){return Object(h.jsx)(ze.a,{children:Object(h.jsxs)(re.c,{children:[Object(h.jsx)(re.a,{exact:!0,path:"/",children:Object(h.jsx)(Ge,{})}),Object(h.jsx)(re.a,{path:"/:demo",render:function(e){var t=e.match;return Object(h.jsx)(qe,{title:Pe[t.params.demo],nodeMeanings:He[t.params.demo]})}})]})})},Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,220)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Je,{})}),document.getElementById("root")),Xe()},92:function(e,t,n){}},[[213,1,2]]]);
//# sourceMappingURL=main.2ee01e76.chunk.js.map